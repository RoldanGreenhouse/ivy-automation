networks:
  greenhouse-infra:
    name: ${greenhouse_network_name:-${ENV}-greenhouse-infra}
    driver: bridge
    driver_opts:
      com.docker.network.driver.mtu: "1500"
    ipam:
      config:
        - subnet: ${greenhouse_network_subnet}
          gateway: ${greenhouse_network_gateway}

volumes:
  traefik-letsencrypt:
    name: ${ENV}-traefik-letsencrypt
  ca-db:
    name: ${ENV}-ca-db

include:
  - docker-compose.critical.yml
  - docker-compose.proxy.yml
  - docker-compose.frontend.yml
  - docker-compose.apps.yml
  - docker-compose.vpn.yml